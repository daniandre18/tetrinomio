<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: server.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: server.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
var express = require('express');
var app = express();


//Diseño de las pieza Z, RestFull Servvice Express

app.get('/cargarPieza/', function(req, res) {
	console.log("cargarPieza");
	respuesta = cargarPieza();	   
	res.json(respuesta);
});

app.get("/moverPieza/:dir?",function(req,res){
	var dir = req.query.dir;
	respuesta = moverPieza(dir);
	res.json(respuesta);
});

app.get("/rotarPieza/:status?",function(req,res){
	var status = req.query.status;
	respuesta = rotarPieza(status);
	res.json(respuesta);
});

app.get("/bajarPieza/:posX?",function(req,res){
	var posX = req.query.posX;
	respuesta = bajarPieza(posX);
	res.json(respuesta);
});


/** 
 *  @Returns the cargarPieza json object 
 *  @type {Object}
 *  @property {string} name	nombre de la figura.
 *  @property {Number|Array} pieza array de la figura.
 *  @property {Number} status  estado de la figura.
 */
function cargarPieza(){
	var figura = {};
	var pieza = [[], [], []];
	// first array
	pieza[0][0] = 1;
	pieza[0][1] = 1;
	pieza[0][2] = 0;
	// second array
	pieza[1][0] = 0;
	pieza[1][1] = 1;
	pieza[1][2] = 1;
	// third array
	pieza[2][0] = 0;
	pieza[2][1] = 0;
	pieza[2][2] = 0;

	figura = {pieza : pieza, status : 0 };
	figura.name= 'z';

	return figura;
}

/**
 * Returns the bajarPieza  posX en  Pocision en x
 * @param {Number} pocisión x
 * @returns {Object}
 */

function bajarPieza(posX){
	posX = posX+1;
	return   posX
}

/** 
 *  @Returns the rotarPieza  json object.
 * 	@param {Number} status
 *  @type {Object}
 *  @property {string} name	Nombre de la figura.
 *  @property {Number|Array} pieza Array de la figura.
 *  @property {Number} status  Estado de la figura previa.
 */

function rotarPieza(status){

	 console.log("status al rotar", status);
	var figura = {};
	var pieza = [[], [], []];
	

	if(status == 0){
		// first array
		pieza[0][0] = 0;
		pieza[0][1] = 1;
		pieza[0][2] = 0;
		// second array
		pieza[1][0] = 1;
		pieza[1][1] = 1;
		pieza[1][2] = 0;
		// third array
		pieza[2][0] = 1;
		pieza[2][1] = 0;
		pieza[2][2] = 0;

		figura = {pieza : pieza, status : 1 };
	}
	else if (status == 1){
		// first array	
		pieza[0][0] = 1;
		pieza[0][1] = 1;
		pieza[0][2] = 0;
		// second array
		pieza[1][0] = 0;
		pieza[1][1] = 1;
		pieza[1][2] = 1;
		// third array
		pieza[2][0] = 0;
		pieza[2][1] = 0;
		pieza[2][2] = 0;

	   	figura = { pieza : pieza, status : 0 };
	}

	figura.name= 'z';

	return figura;
}


/** 
 *  @Returns the moverPieza  json object.
 * 	@param {Number} dir Direccion a la que desea rotar  0 derecha 1 izquierda
 *  @type {Object}
 *  @property {string} name	Nombre de la figura.
 *  @property {Number|Array} pieza Array de la figura.
 *  @property {Number} status  Estado de la figura previa.
 */

function moverPieza(dir)
{
	if(dir==1){
		console.log("derecha");
	}else{
		console.log("izquierda");
	}

    return true;
}


app.use(express.static(__dirname + '/public')); 

app.listen(8081);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#bajarPieza">bajarPieza</a></li><li><a href="global.html#cargarPieza">cargarPieza</a></li><li><a href="global.html#moverPieza">moverPieza</a></li><li><a href="global.html#rotarPieza">rotarPieza</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sat May 27 2017 01:44:57 GMT-0500 (Hora est. Pacífico, Sudamérica)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
